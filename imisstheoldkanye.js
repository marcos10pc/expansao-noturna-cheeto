// ==UserScript==
// @name         Expansão Noturna Cheeto
// @namespace https://github.com/marcos10pc/expansao-noturna-cheeto
// @supportURL      https://github.com/marcos10pc/expansao-noturna-cheeto
// @version      2025-03-02
// @description  busque comer cimento
// @author       marcos10pc
// @match        https://expansao.educacao.sp.gov.br/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=gov.br
// @grant        none
// ==/UserScript==

function _0x2659(_0x3e0a3b,_0x513f48){const _0x3e4950=_0x3e49();return _0x2659=function(_0x26598d,_0x2993a5){_0x26598d=_0x26598d-0x91;let _0x876795=_0x3e4950[_0x26598d];return _0x876795;},_0x2659(_0x3e0a3b,_0x513f48);}(function(_0x1cdedc,_0x23ea14){const _0x164521=_0x2659,_0x41ead4=_0x1cdedc();while(!![]){try{const _0x1196f9=-parseInt(_0x164521(0xb4))/0x1+parseInt(_0x164521(0xc9))/0x2*(-parseInt(_0x164521(0xde))/0x3)+-parseInt(_0x164521(0xa4))/0x4+parseInt(_0x164521(0xd9))/0x5+-parseInt(_0x164521(0xb0))/0x6+parseInt(_0x164521(0x95))/0x7*(-parseInt(_0x164521(0xa5))/0x8)+parseInt(_0x164521(0xab))/0x9;if(_0x1196f9===_0x23ea14)break;else _0x41ead4['push'](_0x41ead4['shift']());}catch(_0x3f7045){_0x41ead4['push'](_0x41ead4['shift']());}}}(_0x3e49,0x604a4),(function(){'use strict';async function _0x53b082(_0x1d70a9){const _0x423328=_0x2659;try{const _0x4d7448=await fetch(_0x423328(0x98)+_0x1d70a9,{'credentials':'include','headers':{'User-Agent':_0x423328(0xbe),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8','Accept-Language':_0x423328(0xb5),'Upgrade-Insecure-Requests':'1','Sec-Fetch-Dest':'document','Sec-Fetch-Mode':'navigate','Sec-Fetch-Site':_0x423328(0xaf)},'method':'GET','mode':_0x423328(0xa3)});console[_0x423328(0xd8)](_0x423328(0xd5)+_0x1d70a9+_0x423328(0xc2));}catch(_0x5d319e){console[_0x423328(0xcb)](_0x423328(0xdb),_0x5d319e);}}async function _0xe6624(){const _0xa4bcd3=_0x2659,_0x555522=document[_0xa4bcd3(0x9a)](_0xa4bcd3(0xa9)),_0x276035=[];_0x555522[_0xa4bcd3(0xad)](_0x3c9515=>{const _0x1a5a5f=_0xa4bcd3,_0x9d5871=_0x3c9515[_0x1a5a5f(0x96)](_0x1a5a5f(0xc0)),_0x57958a=_0x3c9515[_0x1a5a5f(0x96)]('.completion-dropdown\x20button');if(_0x9d5871&&_0x9d5871[_0x1a5a5f(0xb8)]&&(!_0x57958a||!_0x57958a['classList']['contains'](_0x1a5a5f(0xe3)))){const _0x5e4e32=new URL(_0x9d5871[_0x1a5a5f(0xb8)]),_0x3705fe=_0x5e4e32[_0x1a5a5f(0x97)][_0x1a5a5f(0xc6)]('id');_0x3705fe&&(console[_0x1a5a5f(0xd8)]('[DEBUG]\x20MARCANDO\x20PAGINA\x20'+_0x3705fe+'\x20COMO\x20CONCLUIDA'),_0x276035[_0x1a5a5f(0xcf)](_0x53b082(_0x3705fe)));}}),await Promise[_0xa4bcd3(0xd7)](_0x276035),console['log'](_0xa4bcd3(0x9f)),location[_0xa4bcd3(0xe2)]();}async function _0x93e942(){const _0x5c4069=_0x2659,_0x39c7ec=document[_0x5c4069(0x96)](_0x5c4069(0xa7));_0x39c7ec?(_0x39c7ec[_0x5c4069(0x91)](),console[_0x5c4069(0xd8)]('[DEBUG]\x20Link\x20\x22Terminar\x20revisão\x22\x20clicado.')):console['log'](_0x5c4069(0xdd));const _0x1957e6=Array[_0x5c4069(0xc8)](document[_0x5c4069(0x9a)](_0x5c4069(0xa2)))[_0x5c4069(0xcd)](_0xca91b9=>_0xca91b9[_0x5c4069(0x9e)]['trim']()===_0x5c4069(0x92));_0x1957e6?(_0x1957e6['click'](),console[_0x5c4069(0xd8)](_0x5c4069(0xda))):console[_0x5c4069(0xd8)]('[DEBUG]\x20Botão\x20\x22Tentativa\x20do\x20questionário\x22\x20não\x20encontrado.');await new Promise(_0x1d41b2=>setTimeout(_0x1d41b2,0x3e8));const _0x1e8736=document[_0x5c4069(0x96)](_0x5c4069(0xd6));if(!_0x1e8736){console[_0x5c4069(0xd8)](_0x5c4069(0xba));return;}const _0x3eb9fb=_0x1e8736[_0x5c4069(0x96)](_0x5c4069(0xd4))[_0x5c4069(0xbf)][_0x5c4069(0xb7)](),_0xcb0609=Array['from'](_0x1e8736[_0x5c4069(0x9a)](_0x5c4069(0xa8)))[_0x5c4069(0xd0)](_0x38d193=>_0x38d193[_0x5c4069(0xbf)][_0x5c4069(0xb7)]());console[_0x5c4069(0xd8)](_0x5c4069(0xb3),_0x3eb9fb),console[_0x5c4069(0xd8)](_0x5c4069(0xa1),_0xcb0609);const _0x480b50=_0x5c4069(0xd3)+_0x3eb9fb+_0x5c4069(0x93)+_0xcb0609[_0x5c4069(0xd0)]((_0x28dd39,_0x565141)=>_0x565141+0x1+'.\x20'+_0x28dd39)[_0x5c4069(0xe4)]('\x0a')+_0x5c4069(0xca);console[_0x5c4069(0xd8)](_0x5c4069(0xd2),_0x480b50);const _0x4dbc5e=_0x5c4069(0xbc);async function _0x442846(_0x2075c2){const _0x50cf34=_0x5c4069,_0x59345a=await fetch(_0x50cf34(0x9d)+_0x4dbc5e,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x50cf34(0x94)]({'contents':[{'role':'user','parts':[{'text':_0x2075c2}]}],'generationConfig':{'temperature':0x1,'topK':0x28,'topP':0.95,'maxOutputTokens':0x2000,'responseMimeType':_0x50cf34(0xb9)}})});if(!_0x59345a['ok'])throw new Error('Erro\x20na\x20requisição:\x20'+_0x59345a[_0x50cf34(0xa6)]+'\x20'+_0x59345a[_0x50cf34(0xae)]);const _0x2fc607=await _0x59345a[_0x50cf34(0xa0)]();return _0x2fc607['candidates'][0x0][_0x50cf34(0xc1)][_0x50cf34(0xb2)][0x0][_0x50cf34(0xdf)][_0x50cf34(0xb7)]();}function _0x4930ee(_0x458a80){const _0x10e249=_0x5c4069,_0x4fc5c6=parseInt(_0x458a80[_0x10e249(0xc5)](/\d+/)[0x0])-0x1,_0x4601c8=document[_0x10e249(0x9a)]('.answer\x20input[type=\x22radio\x22]');if(_0x4fc5c6>=0x0&&_0x4fc5c6<_0x4601c8[_0x10e249(0x9b)])_0x4601c8[_0x4fc5c6][_0x10e249(0x91)](),console[_0x10e249(0xd8)](_0x10e249(0xcc)+(_0x4fc5c6+0x1)+_0x10e249(0xdc));else throw new Error(_0x10e249(0x9c));}function _0x382744(){const _0x3609c2=_0x5c4069,_0x4eb496=document['querySelector']('input.mod_quiz-next-nav[value=\x22Finalizar\x20tentativa\x20...\x22]');if(_0x4eb496)_0x4eb496[_0x3609c2(0x91)](),console['log'](_0x3609c2(0xc3));else throw new Error(_0x3609c2(0xc7));}try{const _0x27276e=await _0x442846(_0x480b50);console[_0x5c4069(0xd8)]('[DEBUG]\x20Resposta\x20da\x20API:',_0x27276e),_0x4930ee(_0x27276e),_0x382744();}catch(_0x371383){console[_0x5c4069(0xcb)]('[DEBUG]\x20Erro\x20ao\x20obter\x20resposta\x20da\x20API:',_0x371383);}}function _0x40acbb(){const _0x5389a3=_0x2659,_0x221db2=document['createElement']('div');_0x221db2['id']=_0x5389a3(0xbd);const _0x397ca7=document[_0x5389a3(0xce)](_0x5389a3(0xa2));_0x397ca7['id']=_0x5389a3(0xe0),_0x397ca7[_0x5389a3(0x9e)]=_0x5389a3(0xe1);const _0x5a234b=document[_0x5389a3(0xce)](_0x5389a3(0xa2));_0x5a234b['id']=_0x5389a3(0xac),_0x5a234b[_0x5389a3(0x9e)]=_0x5389a3(0xaa),_0x221db2['appendChild'](_0x397ca7),_0x221db2[_0x5389a3(0xbb)](_0x5a234b),document[_0x5389a3(0xb1)][_0x5389a3(0xbb)](_0x221db2);const _0x5974f0=document[_0x5389a3(0xce)](_0x5389a3(0xc4));_0x5974f0[_0x5389a3(0x9e)]=_0x5389a3(0xb6),document[_0x5389a3(0xd1)]['appendChild'](_0x5974f0),_0x397ca7['addEventListener'](_0x5389a3(0x91),_0xe6624),_0x5a234b[_0x5389a3(0x99)](_0x5389a3(0x91),_0x93e942);}_0x40acbb();}()));function _0x3e49(){const _0x555048=['681134xxCPMb','en-US,en;q=0.5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20#button-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#finish-pages-btn,\x20#do-exam-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2014px\x2028px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s\x20ease,\x20border-color\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#finish-pages-btn:hover,\x20#do-exam-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20#999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','trim','href','text/plain','[DEBUG]\x20Elemento\x20da\x20questão\x20não\x20encontrado.','appendChild','AIzaSyBk0mpf1dd5XFqe93cVrBsLCp534Bfaugg','button-container','Mozilla/5.0\x20(X11;\x20Linux\x20x86_64;\x20rv:109.0)\x20Gecko/20100101\x20Firefox/118.0','innerText','a.aalink','content','\x20FINISHED','[DEBUG]\x20Botão\x20\x22Finalizar\x20tentativa\x20...\x22\x20clicado.','style','match','get','Botão\x20\x22Finalizar\x20tentativa\x20...\x22\x20não\x20encontrado.','from','1176674neKYtN','\x0a\x0aCom\x20base\x20no\x20texto\x20da\x20questão\x20e\x20nas\x20opções\x20de\x20resposta,\x20qual\x20é\x20a\x20opção\x20correta?\x20Responda\x20apenas\x20com\x20o\x20número\x20da\x20opção\x20correta.\x0a','error','[DEBUG]\x20Opção\x20','find','createElement','push','map','head','[DEBUG]\x20Prompt\x20enviado\x20para\x20a\x20API:','\x0aTexto\x20da\x20questão:\x0a','.qtext','[DEBUG]\x20PAGINA\x20','.formulation.clearfix','all','log','601020VDfgtk','[DEBUG]\x20Botão\x20\x22Tentativa\x20do\x20questionário\x22\x20clicado.','[ERROR]\x20deu\x20alguma\x20porra:','\x20selecionada.','[DEBUG]\x20Link\x20\x22Terminar\x20revisão\x22\x20não\x20encontrado.','3DIlTWG','text','finish-pages-btn','Marcar\x20Páginas\x20como\x20Concluídas','reload','btn-success','join','click','Tentativa\x20do\x20questionário','\x0a\x0aOpções\x20de\x20resposta:\x0a','stringify','7Uzakur','querySelector','searchParams','https://expansao.educacao.sp.gov.br/mod/resource/view.php?id=','addEventListener','querySelectorAll','length','Opção\x20inválida\x20retornada\x20pela\x20API.','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=','textContent','[DEBUG]\x20TODAS\x20PAGINAS\x20MARCADAS\x20COMO\x20CONCLUIDA','json','[DEBUG]\x20Opções\x20de\x20resposta:','button','cors','2552072DYTFAI','2113064NQMysk','status','a.mod_quiz-next-nav[href*=\x22mod/quiz/view.php\x22]','.answer\x20.flex-fill.ml-1\x20p','li.activity','Fazer\x20Exame','26745741AhrAYs','do-exam-btn','forEach','statusText','same-origin','3155562NfSSVU','body','parts','[DEBUG]\x20Texto\x20da\x20questão:'];_0x3e49=function(){return _0x555048;};return _0x3e49();}
